{"id":"intent-catalog-1o6","title":"Phase 6: Production hardening","description":"## Deliverables\n- Robust Airtable client:\n  - Batching, rate-limit handling, exponential backoff\n  - Structured logs and correlation IDs per run\n- Evidence bundle per sync run:\n  - Run metadata, counts, diff summary, failure reasons\n- Full operational runbook:\n  - Setup, secrets, failure modes, rollback\n- Optional: publish dist/catalog.json to static endpoint\n\n## Acceptance Criteria\n- Nightly scheduled sync job succeeds reliably\n- Failures are actionable from logs + evidence bundle\n- Documentation sufficient for another engineer to run and operate\n- Rate limits never exceeded\n- All 7 enhancements complete and documented","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T21:20:51.504458538-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:20:51.504458538-06:00","dependencies":[{"issue_id":"intent-catalog-1o6","depends_on_id":"intent-catalog-5he","type":"blocks","created_at":"2026-01-15T21:21:05.521576658-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-3kn","title":"Phase 3: GitHub to Airtable sync","description":"## Deliverables\n- scripts/sync_airtable.py:\n  - Upsert Plugins, Skills, Documents by stable keys\n  - Create/update link tables for plugin↔skill and entity↔doc\n  - Never hard-delete; mark missing as status=inactive\n  - Obey protected-field policy (Enhancement A)\n- GitHub Action:\n  - PR: DRY_RUN diff report only\n  - main: performs sync\n- Summary artifact: counts, errors, warnings, top gaps\n\n## Enhancement A: Protected-field Policy\nRepo→Airtable overwrites only specific fields; Airtable-only fields (notes, priority) never overwritten\n\n## Enhancement F: Relationship inference\nStore confidence=inferred and allow manual overrides in Airtable\n\n## Acceptance Criteria\n- Running sync twice yields no changes second run (idempotent)\n- Link tables correctly represent relationships\n- DRY_RUN produces clear diff report\n- Protected fields preserved on sync","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:20:25.611336965-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:30:12.488146375-06:00","closed_at":"2026-01-15T21:30:12.488146375-06:00","close_reason":"Phase 3 complete: sync script with protected fields (A), confidence levels (F), batching, and GitHub Action","dependencies":[{"issue_id":"intent-catalog-3kn","depends_on_id":"intent-catalog-acb","type":"blocks","created_at":"2026-01-15T21:21:05.418495114-06:00","created_by":"jeremy"},{"issue_id":"intent-catalog-3kn","depends_on_id":"intent-catalog-m5z","type":"blocks","created_at":"2026-01-15T21:28:32.706729871-06:00","created_by":"jeremy"},{"issue_id":"intent-catalog-3kn","depends_on_id":"intent-catalog-ofn","type":"blocks","created_at":"2026-01-15T21:28:32.762399679-06:00","created_by":"jeremy"},{"issue_id":"intent-catalog-3kn","depends_on_id":"intent-catalog-4tr","type":"blocks","created_at":"2026-01-15T21:28:32.804702038-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-4tr","title":"P3: Add sync GitHub Action","description":"Workflow that:\n- PR: DRY_RUN only, posts diff as comment\n- main: performs actual sync\n- Uploads summary artifact","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:28:26.2825066-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:30:12.443705896-06:00","closed_at":"2026-01-15T21:30:12.443705896-06:00","close_reason":"Created .github/workflows/sync.yml with PR dry-run, main live sync, PR comment posting","dependencies":[{"issue_id":"intent-catalog-4tr","depends_on_id":"intent-catalog-ofn","type":"blocks","created_at":"2026-01-15T21:28:32.891409168-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-5he","title":"Phase 5: Doc linkage + quality scoring","description":"## Deliverables\n- Doc-link parser: supports frontmatter OR standardized header block\n- Linter/fixer script (scripts/doc_lint.py)\n- Quality scoring report:\n  - dist/quality_report.json\n  - dist/quality_report.md with sortable tables\n\n## Enhancement D: Doc-linking Fixer\nDetect missing doc_id/doc_type/applies_to and optionally propose patch files or PR-ready diffs\n\n## Enhancement E: Quality Scoring Dashboard\nCompute completeness scores per plugin/skill:\n- PRD/ADR/AAR/use-case/evidence/runbook presence\n- Validator state\n- Publish summary artifact and human-readable report\n\n## Acceptance Criteria\n- Clear missing PRD/ADR/AAR/use-case/evidence/runbook views via Airtable fields + report\n- Fixer runs in check mode on CI and apply mode locally\n- Quality scores visible in Airtable","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T21:20:42.805474946-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:20:42.805474946-06:00","dependencies":[{"issue_id":"intent-catalog-5he","depends_on_id":"intent-catalog-94a","type":"blocks","created_at":"2026-01-15T21:21:05.483262655-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-7bo","title":"P1: Add commit_sha to entities","description":"Enhancement G completion: Add commit_sha field to each plugin/skill/document entity for traceability.\n\n## Acceptance\n- Each entity has source_commit field\n- Validates correctly against updated schema","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:21:30.469097037-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:24:35.460614273-06:00","closed_at":"2026-01-15T21:24:35.460614273-06:00","close_reason":"All entities now have source_commit field, CI passes","dependencies":[{"issue_id":"intent-catalog-7bo","depends_on_id":"intent-catalog-k2m","type":"blocks","created_at":"2026-01-15T21:21:34.963950099-06:00","created_by":"jeremy"},{"issue_id":"intent-catalog-7bo","depends_on_id":"intent-catalog-n1t","type":"blocks","created_at":"2026-01-15T21:21:35.001028634-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-94a","title":"Phase 4: Multi-repo + incremental sync","description":"## Deliverables\n- config/catalog.sources.json listing repos and parsing rules\n- Support multiple checkouts and aggregation in extraction\n- Incremental sync using prior dist/catalog.json or stored hash state\n- Collision-safe IDs strategy documented and enforced\n\n## Enhancement B: Incremental Sync\nCompute diffs from prior catalog.json to reduce Airtable API usage and avoid rate limiting\n\n## Enhancement G: Multi-repo Normalization\nStable ID strategy: source_repo + source_path + commit_sha avoids collisions across repos\n\n## Acceptance Criteria\n- Adds Nixtla + CCPI into one Airtable base without collisions\n- Incremental sync significantly reduces Airtable operations on no-op runs\n- ID collision detection and prevention","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T21:20:33.633498478-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:20:33.633498478-06:00","dependencies":[{"issue_id":"intent-catalog-94a","depends_on_id":"intent-catalog-3kn","type":"blocks","created_at":"2026-01-15T21:21:05.451332512-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-acb","title":"Phase 2: Airtable schema provisioning","description":"## Deliverables\n- schema/airtable.base.json describing tables/fields/select options\n- scripts/airtable_provision.py\n- mappings/airtable_ids.json (table/field IDs after provision)\n- GitHub Action (manual dispatch) to provision schema\n\n## Tables Required\n- Plugins\n- Skills\n- Documents\n- PluginSkillLinks\n- EntityDocLinks\n- ValidationRuns (optional)\n\n## Enhancement C: Schema as Code\nDefine Airtable base schema as code and auto-provision/update tables/fields/select options\n\n## Acceptance Criteria\n- Running provisioner is idempotent (safe to re-run)\n- Schema matches contract including enums/select options\n- Field IDs stored for sync phase","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:20:15.598000761-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:27:53.996208083-06:00","closed_at":"2026-01-15T21:27:53.996208083-06:00","close_reason":"Phase 2 complete: airtable.base.json schema, provisioner script, and GitHub Action all created","dependencies":[{"issue_id":"intent-catalog-acb","depends_on_id":"intent-catalog-tqg","type":"blocks","created_at":"2026-01-15T21:21:05.383503217-06:00","created_by":"jeremy"},{"issue_id":"intent-catalog-acb","depends_on_id":"intent-catalog-r65","type":"blocks","created_at":"2026-01-15T21:25:52.256230979-06:00","created_by":"jeremy"},{"issue_id":"intent-catalog-acb","depends_on_id":"intent-catalog-c5v","type":"blocks","created_at":"2026-01-15T21:25:52.303732056-06:00","created_by":"jeremy"},{"issue_id":"intent-catalog-acb","depends_on_id":"intent-catalog-eqg","type":"blocks","created_at":"2026-01-15T21:25:52.347199452-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-c5v","title":"P2: Implement airtable_provision.py","description":"Idempotent provisioner that:\n1. Creates tables if not exist\n2. Creates/updates fields\n3. Creates/updates select options\n4. Outputs mappings/airtable_ids.json with IDs\n\nMust handle:\n- AIRTABLE_TOKEN from env\n- AIRTABLE_BASE_ID from env or config\n- --dry-run mode","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:25:45.807547548-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:27:38.601012957-06:00","closed_at":"2026-01-15T21:27:38.601012957-06:00","close_reason":"Created scripts/airtable_provision.py with idempotent table/field creation, select options, and dry-run mode","dependencies":[{"issue_id":"intent-catalog-c5v","depends_on_id":"intent-catalog-r65","type":"blocks","created_at":"2026-01-15T21:25:52.386458884-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-eqg","title":"P2: Add GitHub Action for provisioning","description":"Manual dispatch workflow that:\n1. Runs airtable_provision.py\n2. Commits mappings/airtable_ids.json if changed\n3. Reports success/failure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:25:45.845696058-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:27:53.954473657-06:00","closed_at":"2026-01-15T21:27:53.954473657-06:00","close_reason":"Created .github/workflows/provision.yml with manual dispatch, dry-run option, and auto-commit of mappings","dependencies":[{"issue_id":"intent-catalog-eqg","depends_on_id":"intent-catalog-c5v","type":"blocks","created_at":"2026-01-15T21:25:52.429681231-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-k2m","title":"P1: Schema has commit tracking","description":"Already done - verify schema/catalog.schema.json has commit field.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:21:30.512536881-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:24:35.387087791-06:00","closed_at":"2026-01-15T21:24:35.387087791-06:00","close_reason":"Schema updated with source_commit field"}
{"id":"intent-catalog-m5z","title":"P3: Implement sync_airtable.py core","description":"Main sync script that:\n1. Reads catalog.json and mappings/airtable_ids.json\n2. Upserts Plugins, Skills, Documents by stable key\n3. Never deletes - marks missing as status=inactive\n4. Respects protected field policy (Enhancement A)\n5. Supports --dry-run mode\n\nOutput: summary counts and diff report","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:28:26.207147237-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:29:46.875053529-06:00","closed_at":"2026-01-15T21:29:46.875053529-06:00","close_reason":"Created sync_airtable.py with upsert, protected fields, dry-run, batching"}
{"id":"intent-catalog-n1t","title":"P1: Extractor outputs commit per entity","description":"Modify extract_catalog.py to add source_commit to each entity (not just meta.repos).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:21:30.5572568-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:24:35.423682549-06:00","closed_at":"2026-01-15T21:24:35.423682549-06:00","close_reason":"Extractor now outputs source_commit per entity"}
{"id":"intent-catalog-ofn","title":"P3: Implement link table sync","description":"Sync PluginSkillLinks and EntityDocLinks:\n1. Create composite keys\n2. Resolve Airtable record IDs for foreign keys\n3. Upsert with confidence level (Enhancement F)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:28:26.244430131-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:29:46.920534347-06:00","closed_at":"2026-01-15T21:29:46.920534347-06:00","close_reason":"Link table sync implemented in sync_airtable.py (PluginSkillLinks, EntityDocLinks)","dependencies":[{"issue_id":"intent-catalog-ofn","depends_on_id":"intent-catalog-m5z","type":"blocks","created_at":"2026-01-15T21:28:32.848662021-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-q0m","title":"Catalog Airtable Sync - Master Epic","description":"Unified plugin/skill/docs catalog with deterministic extraction, validation, and GitHub Actions-driven Airtable mirror.\n\n## Enhancements (ALL required)\n- A) Protected-field policy for Airtable\n- B) Incremental sync\n- C) Schema provisioning as code\n- D) Doc-linking standardization + fixer\n- E) Quality scoring + gap dashboard\n- F) Relationship inference with confidence\n- G) Multi-repo normalization with collision-safe IDs\n\n## Acceptance Criteria\n- All 6 phases complete\n- All 7 enhancements implemented\n- Nightly sync job running reliably\n- Full operational runbooks","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T21:19:49.703216743-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:19:49.703216743-06:00","dependencies":[{"issue_id":"intent-catalog-q0m","depends_on_id":"intent-catalog-1o6","type":"blocks","created_at":"2026-01-15T21:21:05.553586491-06:00","created_by":"jeremy"}]}
{"id":"intent-catalog-r65","title":"P2: Define airtable.base.json schema","description":"Define all tables, fields, and select options as code.\n\nTables:\n- Plugins (name, description, version, status, source_repo, etc.)\n- Skills (name, description, version, is_standalone, etc.)\n- Documents (title, doc_type, category_code, etc.)\n- PluginSkillLinks (plugin, skill, relation_type, confidence)\n- EntityDocLinks (entity_type, entity_id, document, relation_type)\n\nAll enums from catalog.schema.json must map to select options.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:25:45.766572934-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:26:39.311940419-06:00","closed_at":"2026-01-15T21:26:39.311940419-06:00","close_reason":"Created schema/airtable.base.json with all tables, fields, select options, and protected field policy"}
{"id":"intent-catalog-tqg","title":"Phase 1: Control-plane repo + data contract","description":"## Deliverables\n- schema/catalog.schema.json (JSON Schema)\n- schema/catalog.contract.md (human contract)\n- scripts/extract_catalog.py builds dist/catalog.json\n- scripts/validate_catalog.py validates against schema\n- dist/catalog.warnings.json for non-deterministic parse issues\n- CI workflow: on PR run extract+validate; on main upload artifact\n- Runbooks: README.md, docs/runbook.md\n\n## Enhancements in this phase\n- F) Relationship inference with confidence (partial)\n- G) Multi-repo normalization: source_repo + commit_sha per entity\n\n## Acceptance Criteria\n- make ci passes locally and in CI\n- Catalog covers plugins, skills, docs\n- Stable ordering (deterministic output)\n- commit_sha tracked per entity\n\n## Status\nMOSTLY COMPLETE - needs commit_sha enhancement","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T21:19:59.267095963-06:00","created_by":"jeremy","updated_at":"2026-01-15T21:24:41.470485694-06:00","closed_at":"2026-01-15T21:24:41.470485694-06:00","close_reason":"Phase 1 complete: schema, extractor, validator, CI all working. Enhancement G (source_commit) implemented. make ci passes.","dependencies":[{"issue_id":"intent-catalog-tqg","depends_on_id":"intent-catalog-7bo","type":"blocks","created_at":"2026-01-15T21:21:34.927208429-06:00","created_by":"jeremy"}]}
